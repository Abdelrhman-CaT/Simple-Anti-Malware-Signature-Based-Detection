import subprocess, os
from checks import check_path, check_path_directory



# Get the list of newly created files in the last m minutes 	O(N)
def Get_new_files_created_or_modified_in_minutes(directory, m):
	cmd = "find " + directory + " -type f -cmin -" + m
	files = subprocess.check_output(cmd, shell=True)
	files = files.decode("UTF-8")
	files = files.split("\n")	# O(N)
	file_list = []
	for file in files:			# O(N)
		if not(file == ""):
			file_list.append(file)
	return file_list

#-------------------------------------------------------------------------------------------------

# List all files in a directory recursively 		# O(N)
def list_files_in_directory(directory):
	if(check_path_directory(directory)):
		files = []
		entries_in_directory = os.listdir(directory)
		for entry in entries_in_directory:
			entry_full_Path = os.path.join(directory, entry)
			if check_path_directory(entry_full_Path):
				files = files + list_files_in_directory(entry_full_Path)
			else:
				if(check_path(entry_full_Path)):
					files.append(entry_full_Path)
		return files
